<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Calculate the temporal range of fossil taxa — tax_range_time • palaeoverse</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Calculate the temporal range of fossil taxa — tax_range_time"><meta name="description" content="A function to calculate the temporal range of fossil taxa from occurrence
data."><meta property="og:description" content="A function to calculate the temporal range of fossil taxa from occurrence
data."><meta property="og:image" content="https://palaeoverse.palaeoverse.org/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">palaeoverse</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.4.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/phanerozoic-reefs.html">Latitudinal trends in Phanerozoic reefs</a></li>
    <li><a class="dropdown-item" href="../articles/tetrapod-biodiversity.html">Alpha diversity and geographic range size of Carboniferous and Permian tetrapods</a></li>
    <li><a class="dropdown-item" href="../articles/structure-and-standards.html">Contributing to palaeoverse: structure and standards</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/palaeoverse/palaeoverse/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Calculate the temporal range of fossil taxa</h1>
      <small class="dont-index">Source: <a href="https://github.com/palaeoverse/palaeoverse/blob/v.1.4.0/R/tax_range_time.R" class="external-link"><code>R/tax_range_time.R</code></a></small>
      <div class="d-none name"><code>tax_range_time.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>A function to calculate the temporal range of fossil taxa from occurrence
data.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">tax_range_time</span><span class="op">(</span></span>
<span>  <span class="va">occdf</span>,</span>
<span>  name <span class="op">=</span> <span class="st">"genus"</span>,</span>
<span>  min_ma <span class="op">=</span> <span class="st">"min_ma"</span>,</span>
<span>  max_ma <span class="op">=</span> <span class="st">"max_ma"</span>,</span>
<span>  by <span class="op">=</span> <span class="st">"FAD"</span>,</span>
<span>  plot <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  plot_args <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  intervals <span class="op">=</span> <span class="st">"periods"</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-occdf">occdf<a class="anchor" aria-label="anchor" href="#arg-occdf"></a></dt>
<dd><p><code>dataframe</code>. A dataframe of fossil occurrences containing
at least three columns: names of taxa, minimum age and maximum age
(see <code>name</code>, <code>min_ma</code>, and <code>max_ma</code> arguments).
These ages should constrain the age range of the fossil occurrence
and are assumed to be in millions of years before present.</p></dd>


<dt id="arg-name">name<a class="anchor" aria-label="anchor" href="#arg-name"></a></dt>
<dd><p><code>character</code>. The name of the column you wish to be treated
as the input names, e.g. "genus" (default).</p></dd>


<dt id="arg-min-ma">min_ma<a class="anchor" aria-label="anchor" href="#arg-min-ma"></a></dt>
<dd><p><code>character</code>. The name of the column you wish to be treated
as the minimum limit of the age range, e.g. "min_ma" (default).</p></dd>


<dt id="arg-max-ma">max_ma<a class="anchor" aria-label="anchor" href="#arg-max-ma"></a></dt>
<dd><p><code>character</code>. The name of the column you wish to be treated
as the maximum limit of the age range, e.g. "max_ma" (default).</p></dd>


<dt id="arg-by">by<a class="anchor" aria-label="anchor" href="#arg-by"></a></dt>
<dd><p><code>character</code>. How should the output be sorted?
Either: "FAD" (first-appearance date; default), "LAD" (last-appearance data),
or "name" (alphabetically by taxon names).</p></dd>


<dt id="arg-plot">plot<a class="anchor" aria-label="anchor" href="#arg-plot"></a></dt>
<dd><p><code>logical</code>. Should a plot of the ranges be generated?</p></dd>


<dt id="arg-plot-args">plot_args<a class="anchor" aria-label="anchor" href="#arg-plot-args"></a></dt>
<dd><p><code>list</code>. A list of optional arguments relevant to
plotting. See Details for options.</p></dd>


<dt id="arg-intervals">intervals<a class="anchor" aria-label="anchor" href="#arg-intervals"></a></dt>
<dd><p><code>character</code>. The time interval information used to
plot the x-axis: either A) a <code>character</code> string indicating a rank of
intervals from the built-in <code><a href="GTS2020.html">GTS2020</a></code>, B) a <code>character</code>
string indicating a <code>data.frame</code> hosted by
<a href="https://macrostrat.org" class="external-link">Macrostrat</a> (see <code><a href="time_bins.html">time_bins</a></code>), or C)
a custom <code>data.frame</code> of time interval boundaries (see <a href="axis_geo.html">axis_geo</a>
Details). A list of strings or data.frames can be supplied to add
multiple time scales to the same side of the plot (see <a href="axis_geo.html">axis_geo</a>
Details). Defaults to "periods".</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A <code>dataframe</code> containing the following columns:
unique taxa (<code>taxon</code>), taxon ID (<code>taxon_id</code>), first appearance of taxon
(<code>max_ma</code>), last appearance of taxon (<code>min_ma</code>), duration of temporal
range (<code>range_myr</code>), and number of occurrences per taxon (<code>n_occ</code>) is
returned.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The temporal range(s) of taxa are calculated by extracting all
unique taxa (<code>name</code> column) from the input <code>occdf</code>, and checking their
first and last appearance. The temporal duration of each taxon is also
calculated. If the input data columns contain NAs, these must be
removed prior to function call. A plot of the temporal range of each
taxon is also returned if <code>plot = TRUE</code>. Customisable argument options
(i.e. <code><a href="https://rdrr.io/r/graphics/par.html" class="external-link">graphics::par()</a></code>) to pass to <code>plot_args</code> as a list (and their
defaults) for plotting include:</p><ul><li><p>xlab = "Time (Ma)"</p></li>
<li><p>ylab = "Taxon ID"</p></li>
<li><p>col = "black"</p></li>
<li><p>bg = "black"</p></li>
<li><p>pch = 20</p></li>
<li><p>cex = 1</p></li>
<li><p>lty = 1</p></li>
<li><p>lwd = 1</p></li>
</ul><p>Note: this function provides output based solely on the user input data.
The true duration of a taxon is likely confounded by uncertainty in
dating occurrences, and incomplete sampling and preservation.</p>
    </div>
    <div class="section level2">
    <h2 id="developer-s-">Developer(s)<a class="anchor" aria-label="anchor" href="#developer-s-"></a></h2>


<p>Lewis A. Jones</p>
    </div>
    <div class="section level2">
    <h2 id="reviewer-s-">Reviewer(s)<a class="anchor" aria-label="anchor" href="#reviewer-s-"></a></h2>


<p>Bethany Allen, Christopher D. Dean &amp; Kilian Eichenseer</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Grab internal data</span></span></span>
<span class="r-in"><span><span class="va">occdf</span> <span class="op">&lt;-</span> <span class="va">tetrapods</span></span></span>
<span class="r-in"><span><span class="co"># Remove NAs</span></span></span>
<span class="r-in"><span><span class="va">occdf</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/subset.html" class="external-link">subset</a></span><span class="op">(</span><span class="va">occdf</span>, <span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">order</span><span class="op">)</span> <span class="op">&amp;</span> <span class="va">order</span> <span class="op">!=</span> <span class="st">"NO_ORDER_SPECIFIED"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># Temporal range</span></span></span>
<span class="r-in"><span><span class="va">ex</span> <span class="op">&lt;-</span> <span class="fu">tax_range_time</span><span class="op">(</span>occdf <span class="op">=</span> <span class="va">occdf</span>, name <span class="op">=</span> <span class="st">"order"</span>, plot <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="tax_range_time-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="co"># Customise appearance</span></span></span>
<span class="r-in"><span><span class="va">ex</span> <span class="op">&lt;-</span> <span class="fu">tax_range_time</span><span class="op">(</span>occdf <span class="op">=</span> <span class="va">occdf</span>, name <span class="op">=</span> <span class="st">"order"</span>, plot <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>                     plot_args <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>ylab <span class="op">=</span> <span class="st">"Orders"</span>,</span></span>
<span class="r-in"><span>                                      pch <span class="op">=</span> <span class="fl">21</span>, col <span class="op">=</span> <span class="st">"black"</span>, bg <span class="op">=</span> <span class="st">"blue"</span>,</span></span>
<span class="r-in"><span>                                      lty <span class="op">=</span> <span class="fl">2</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                     intervals <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"periods"</span>, <span class="st">"eras"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="tax_range_time-2.png" alt="" width="700" height="433"></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://www.lewisajones.com" class="external-link">Lewis A. Jones</a>, <a href="https://williamgearty.com" class="external-link">William Gearty</a>, <a href="https://bsse.ethz.ch/cevo/the-group/people/person-detail.html?persid=295484" class="external-link">Bethany J. Allen</a>, <a href="https://keichenseer.netlify.app" class="external-link">Kilian Eichenseer</a>, <a href="https://www.ucl.ac.uk/earth-sciences/people/research-staff/dr-chris-dean" class="external-link">Christopher D. Dean</a>, <a href="https://www.researchgate.net/profile/Joseph-Flannery-Sutherland" class="external-link">Joseph T. Flannery-Sutherland</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

